# Hypercube 的 AI Telegram Bot

仅仅是开源一下我自己用的代码。如果别人想部署的话，至少需要修改 `src/main.py` 中的 `DEVELOPER` 常量和 Docker 相关文件，长输出折叠功能还依赖于特定 Nginx 配置和域名，还需要注意本项目假设白名单用户是可信的。

感谢 [zzh1996/chatgpt-telegram-bot](https://github.com/zzh1996/chatgpt-telegram-bot) 项目提供了一些启发。

## 功能特性

- 主要针对个人日常使用场景优化，支持不带特殊语法地直接给 bot 发送消息，收到不带干扰的回答文本，并且仍支持复杂的自定义功能。
- 按对话支持设置默认模型和系统提示，可以用几个只有自己和 bot 的群分别实现不同功能，例如某个群里不带特殊语法发送文本就能用低延迟模型翻译。
- 按用户白名单，白名单用户可以随意创建多个只有自己和 bot 的群。
- 同时支持 OpenAI 和 Gemini 模型。
- 用户友好的模型和参数选择界面，支持自定义系统提示。
- 利用回复该能支持可分叉的对话历史。
- 支持图片、PDF、文本文件输入。
- 长输出支持每个用户分别设置是否折叠显示的偏好。
- 不流式输出，用户可以在生成完成时收到 Telegram 通知。
- 要求 OpenAI 不保存对话，利用加密 reasoning tokens 将思考历史保持在上下文中。
- 默认发送报错信息给开发者，但可以设置特定用户的报错信息发给用户自己，也不打印任何日志，避免无意间看到隐私信息。
